#!/bin/bash

make-cadir /etc/openvpn/ca
cd /etc/openvpn/ca
./easyrsa init-pki
# configure vars file with below content after ###
./easyrsa build-ca nopass
## CA is now created
echo "CA created"

echo 'set_var EASYRSA_BATCH "1"
set_var EASYRSA_KEY_SIZE 4096
set_var EASYRSA_ALGO rsa
#  options: rsa,ec
set_var EASYRSA_CA_EXPIRE 3650
#  10 years
set_var EASYRSA_CERT_EXPIRE 365
#  1 year
set_var EASYRSA_DIGEST "sha512"
#  options: md5,sha1,sha256,sha224,sha384,sha512' > /etc/openvpn/ca/vars
echo "vars created/overwritten"
